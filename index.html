<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>alphaday</title>
  <meta name="description" content="Alphaday.">
  <meta name="author" content="Alphaday">

  <meta property="og:title" content="Alphaday.">
  <meta property="og:type" content="website">
  <meta property="og:description" content="Alphaday.">
  <meta property="og:image" content="img/logo.png">

  <link rel="icon" href="img/favicon.ico">
  <link rel="icon" href="img/favicon.svg" type="image/svg+xml">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@AlphadayHQ" />
  <meta name="twitter:title" content="alphaday" />
  <meta name="twitter:description" content="@AlphadayHQ" />
  <meta name="twitter:creator" content="@AlphadayHQ">
  <meta name="twitter:domain" content="alphaday.com">
  <meta name="twitter:image" content="https://s3.eu-west-1.amazonaws.com/alphaday.com/logo-twitter.png" />
  <meta property="og:image" content="https://s3.eu-west-1.amazonaws.com/alphaday.com/logo-twitter.png" />
  <meta property="og:url" content="https://alphaday.com" />
  <meta property="og:title" content="alphaday" />
  <meta property="og:description" content="@AlphadayHQ" />

  <link rel="stylesheet" href="css/styles.css?v=1.0">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
</head>

<body>
  <div id="main">
      <img id="logo" src="img/logo.png" alt="alphaday logo">

      <!-- NEW -->
      <!-- Begin Mailchimp Signup Form -->
      <div id="mc_embed_signup">
      <form action="https://alphaday.us20.list-manage.com/subscribe/post?u=a526fcf0309d049cc366e94e0&amp;id=6279b67a6a" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
          <div id="mc_embed_signup_scroll">
      	<label for="mce-EMAIL">Subscribe</label>
      	<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
          <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
          <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a526fcf0309d049cc366e94e0_6279b67a6a" tabindex="-1" value=""></div>
          <div class="clear"><input type="submit" value="Go" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
          </div>
      </form>
      </div>
      <!-- /NEW -->
      <div id="subscribe-result">
      </div>
  </div>

  <footer>
    <div id="footer">
        &copy; Alphaday <script>document.write( new Date().getFullYear() );</script> - v0.3
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

  <!-- MAILCHIMP STUFF: -->
  <script type="text/javascript">

      $(document).ready(function(){
          ajaxMailChimpForm($("#mc-embedded-subscribe-form"), $("#subscribe-result"));

          // Turn the given MailChimp form into an ajax version of it.
          // If resultElement is given, the subscribe result is set as html to
          // that element.
          function ajaxMailChimpForm($form, $resultElement){

              // Hijack the submission. We'll submit the form manually.
              $form.submit(function(e) {
                  e.preventDefault();

                  if (!isValidEmail($form)) {
                      var error =  "A valid email address must be provided.";
                      $resultElement.html(error);
                      $resultElement.css("color", "#cc0000");
                      $resultElement.css("margin", "50px 50px");
                  } else {
                      // hijacked this code, which was old and didn't work without https,
                      // and inserted the success message here:
                      $resultElement.css("color", "#FAA109");
                      $resultElement.html("Thanks for subscribing to future progress and updates!");
                      $resultElement.css("margin", "50px 50px");
                      submitSubscribeForm($form, $resultElement);
                  }
              });
          }

          // Validate the email address in the form
          function isValidEmail($form) {
              // If email is empty, show error message.
              // contains just one @
              var email = $form.find("input[type='email']").val();
              if (!email || !email.length) {
                  return false;
              } else if (email.indexOf("@") == -1) {
                  return false;
              }

              return true;
          }

          // Submit the form with an ajax/jsonp request.
          // Based on https://stackoverflow.com/a/15120409/215821
          function submitSubscribeForm($form, $resultElement) {
              $.ajax({
                  type: "GET",
                  url: $form.attr("action"),
                  data: $form.serialize(),
                  cache: false,
                  dataType: "jsonp",
                  jsonp: "c", // trigger MailChimp to return a JSONP response
                  contentType: "application/json; charset=utf-8",

                  error: function(error){
                      // According to jquery docs, this is never called for cross-domain JSONP requests
                  },

                  success: function(data){
                      if (data.result != "success") {
                          var message = data.msg || "Sorry. Unable to subscribe. Please try again later.";
                          $resultElement.css("color", "#cc0000");
                          $resultElement.css("margin", "50px 50px");

                          if (data.msg && data.msg.indexOf("already subscribed") >= 0) {
                              message = "You're already subscribed. Thank you.";
                              $resultElement.css("color", "white");
                              $resultElement.css("margin", "50px 50px");
                          }
                          $resultElement.html(message);

                      } else {
                          $resultElement.css("margin", "50px 50px");
                          $resultElement.css("color", "#FAA109");
                          $resultElement.html("Thank you! <br> You must confirm the subscription in your inbox.");
                      }
                  }
              });
          }
      });

  </script>

</body>
</html>
